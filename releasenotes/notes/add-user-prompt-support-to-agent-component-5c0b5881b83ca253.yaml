---
features:
  - |
    Added `user_prompt` and `required_variables` parameters to the `Agent` component.
    You can now define a reusable Jinja2-templated user prompt at initialization or at
    runtime, so the Agent can be invoked with different inputs without manually
    constructing `ChatMessage` objects each time.

    Template variables are automatically registered as component inputs, making the
    Agent compatible with Haystack pipelines where upstream components can feed values
    directly into the prompt.

    Example usage:

    ```python
    agent = Agent(
        chat_generator=OpenAIChatGenerator(),
        tools=tools,
        system_prompt="You are a helpful translation assistant.",
        user_prompt="Translate the following document to {{ language }}: {{ document }}",
        required_variables=["language", "document"],
    )

    result = agent.run(language="French", document="The weather is lovely today.")
    ```
upgrade:
  - |
    Calling `Agent.run()` (or `run_async()`) with an empty messages list and no
    `user_prompt` or `system_prompt` configured now raises a `ValueError` instead of
    silently proceeding. If you previously relied on calling `agent.run([])` with no
    prompts set, you must now provide at least one of: non-empty `messages`, a
    `user_prompt`, or a `system_prompt`.
