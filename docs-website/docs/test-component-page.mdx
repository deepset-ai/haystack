---
title: "CustomEmbedder"
id: customembedder
slug: "/customembedder"
description: "An embedder component for generating vector representations of text."
---

# CustomEmbedder

An embedder component for generating vector representations of text using custom models.

<div className="key-value-table">

|  |  |
| --- | --- |
| **Most common position in a pipeline** | Before a retriever |
| **Mandatory init variables** | `model_name`: The name of the embedding model to use |
| **Mandatory run variables** | `text`: The text to embed |
| **Output variables** | `embedding`: A list of floats representing the vector |
| **API reference** | [Embedders](/reference/embedders-api) |

</div>

## Overview

`CustomEmbedder` generates dense vector representations of text. The user can configure the model and its parameters during initialization.

This component supports multiple embedding providers, e.g. OpenAI, Cohere, and local models.

## Usage

### On Its Own

```python
from haystack.components.embedders import CustomEmbedder

embedder = CustomEmbedder(model_name="sentence-transformers/all-MiniLM-L6-v2")
result = embedder.run(text="What is haystack?")
print(result["embedding"])
```

### In a Pipeline

Please initialize the embedder before adding it to a pipeline:

```python
from haystack import Pipeline
from haystack.components.embedders import CustomEmbedder
from haystack.components.retrievers import InMemoryEmbeddingRetriever

pipeline = Pipeline()
pipeline.add_component("embedder", CustomEmbedder(model_name="all-MiniLM-L6-v2"))
pipeline.add_component("retriever", InMemoryEmbeddingRetriever(document_store=store))
pipeline.connect("embedder.embedding", "retriever.query_embedding")
```

## Configuration

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `model_name` | `str` | Required | The embedding model to utilize |
| `batch_size` | `int` | `32` | Number of texts to process at once |

Export your configuration to a json file for reproducibility.
